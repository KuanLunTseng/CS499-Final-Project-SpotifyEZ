{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _readOnlyError from \"C:/Users/zengg/Desktop/CS499/final-project-team-10-SpotifyEZ/node_modules/next/node_modules/@babel/runtime/helpers/esm/readOnlyError\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\zengg\\\\Desktop\\\\CS499\\\\final-project-team-10-SpotifyEZ\\\\components\\\\RecentlyPlayedSongsView.js\",\n    _s = $RefreshSig$();\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect, useState } from 'react';\nimport { getRecents } from '../store/actions/songAction';\nimport { useRouter } from 'next/router';\nimport PlaylistColumn from '../components/PlaylistColumn';\n\nfunction RecentlyPlayedSongsView() {\n  _s();\n\n  var dispatch = useDispatch();\n  var router = useRouter();\n\n  var _useSelector = useSelector(function (state) {\n    return state.auth;\n  }),\n      accessToken = _useSelector.accessToken;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.song;\n  }),\n      recentSongs = _useSelector2.recentSongs;\n\n  useEffect(function () {\n    dispatch(getRecents(accessToken));\n  }, []);\n\n  function setPlaylist(newPlaylist) {\n    recentSongs = (_readOnlyError(\"recentSongs\"), newPlaylist);\n  }\n\n  function onPlusButtonClick(track) {\n    router.push({\n      pathname: '/SpotifyTinderPage',\n      query: 'oneSongSeed=' + track.id\n    });\n  }\n\n  console.log(\"==recentSongs: \", recentSongs && recentSongs.items.map(function (item) {\n    return item.track.uri;\n  }));\n  return /*#__PURE__*/_jsxDEV(PlaylistColumn, {\n    playlist: recentSongs && recentSongs.items.map(function (item) {\n      return item.track;\n    }) //playlist={[]}\n    ,\n    playlistTitle: \"Recently Played\",\n    hasPlusButton: true,\n    onPlusButtonClick: onPlusButtonClick,\n    setPlaylist: setPlaylist\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this);\n}\n\n_s(RecentlyPlayedSongsView, \"Cxy2zOj+qUHhNDKy+bdJQpfaLpY=\", false, function () {\n  return [useDispatch, useRouter, useSelector, useSelector];\n});\n\n_c = RecentlyPlayedSongsView;\nexport default RecentlyPlayedSongsView;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecentlyPlayedSongsView\");","map":{"version":3,"sources":["C:/Users/zengg/Desktop/CS499/final-project-team-10-SpotifyEZ/components/RecentlyPlayedSongsView.js"],"names":["useDispatch","useSelector","useEffect","useState","getRecents","useRouter","PlaylistColumn","RecentlyPlayedSongsView","dispatch","router","state","auth","accessToken","song","recentSongs","setPlaylist","newPlaylist","onPlusButtonClick","track","push","pathname","query","id","console","log","items","map","item","uri"],"mappings":";;;;;;AAAA,SAASA,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,UAAT,QAA2B,6BAA3B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,cAAP,MAA2B,8BAA3B;;AAGA,SAASC,uBAAT,GAAmC;AAAA;;AAC/B,MAAMC,QAAQ,GAAGR,WAAW,EAA5B;AACA,MAAMS,MAAM,GAAGJ,SAAS,EAAxB;;AAF+B,qBAGPJ,WAAW,CAAC,UAAAS,KAAK;AAAA,WAAIA,KAAK,CAACC,IAAV;AAAA,GAAN,CAHJ;AAAA,MAGvBC,WAHuB,gBAGvBA,WAHuB;;AAAA,sBAIPX,WAAW,CAAC,UAAAS,KAAK;AAAA,WAAIA,KAAK,CAACG,IAAV;AAAA,GAAN,CAJJ;AAAA,MAIvBC,WAJuB,iBAIvBA,WAJuB;;AAM/BZ,EAAAA,SAAS,CAAC,YAAM;AACdM,IAAAA,QAAQ,CAACJ,UAAU,CAACQ,WAAD,CAAX,CAAR;AACD,GAFQ,EAEN,EAFM,CAAT;;AAIA,WAASG,WAAT,CAAqBC,WAArB,EAAkC;AAChCF,IAAAA,WAAW,mCAAGE,WAAH,CAAX;AACD;;AAED,WAASC,iBAAT,CAA2BC,KAA3B,EAAkC;AAChCT,IAAAA,MAAM,CAACU,IAAP,CAAY;AACVC,MAAAA,QAAQ,EAAE,oBADA;AAEVC,MAAAA,KAAK,EAAE,iBAAiBH,KAAK,CAACI;AAFpB,KAAZ;AAID;;AAEDC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BV,WAAW,IAAIA,WAAW,CAACW,KAAZ,CAAkBC,GAAlB,CAAsB,UAAAC,IAAI;AAAA,WAAIA,IAAI,CAACT,KAAL,CAAWU,GAAf;AAAA,GAA1B,CAA9C;AAEA,sBACI,QAAC,cAAD;AACE,IAAA,QAAQ,EAAEd,WAAW,IAAIA,WAAW,CAACW,KAAZ,CAAkBC,GAAlB,CAAsB,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACT,KAAT;AAAA,KAA1B,CAD3B,CAEE;AAFF;AAGE,IAAA,aAAa,EAAC,iBAHhB;AAIE,IAAA,aAAa,EAAE,IAJjB;AAKE,IAAA,iBAAiB,EAAED,iBALrB;AAME,IAAA,WAAW,EAAEF;AANf;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH;;GAlCQR,uB;UACYP,W,EACFK,S,EACSJ,W,EACAA,W;;;KAJnBM,uB;AAmCT,eAAeA,uBAAf","sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\r\nimport { useEffect, useState } from 'react';\r\nimport { getRecents } from '../store/actions/songAction';\r\nimport { useRouter } from 'next/router'\r\nimport PlaylistColumn from '../components/PlaylistColumn'\r\n\r\n\r\nfunction RecentlyPlayedSongsView() {\r\n    const dispatch = useDispatch()\r\n    const router = useRouter()\r\n    const { accessToken } = useSelector(state => state.auth)\r\n    const { recentSongs } = useSelector(state => state.song)\r\n\r\n    useEffect(() => {\r\n      dispatch(getRecents(accessToken))\r\n    }, [])\r\n\r\n    function setPlaylist(newPlaylist) {\r\n      recentSongs = newPlaylist\r\n    }\r\n\r\n    function onPlusButtonClick(track) {\r\n      router.push({\r\n        pathname: '/SpotifyTinderPage',\r\n        query: 'oneSongSeed=' + track.id\r\n      })\r\n    }\r\n\r\n    console.log(\"==recentSongs: \", recentSongs && recentSongs.items.map(item => item.track.uri));\r\n\r\n    return(\r\n        <PlaylistColumn\r\n          playlist={recentSongs && recentSongs.items.map(item => item.track)}\r\n          //playlist={[]}\r\n          playlistTitle=\"Recently Played\"\r\n          hasPlusButton={true}\r\n          onPlusButtonClick={onPlusButtonClick}\r\n          setPlaylist={setPlaylist}\r\n        />\r\n\r\n    )\r\n}\r\nexport default RecentlyPlayedSongsView;\r\n"]},"metadata":{},"sourceType":"module"}