{"ast":null,"code":"import { Fragment as _Fragment } from \"@emotion/react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"@emotion/react/jsx-dev-runtime\";\nimport _readOnlyError from \"C:/Users/zengg/Desktop/CS499/final-project-team-10-SpotifyEZ/node_modules/next/node_modules/@babel/runtime/helpers/esm/readOnlyError\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\zengg\\\\Desktop\\\\CS499\\\\final-project-team-10-SpotifyEZ\\\\components\\\\RecentlyPlayedSongsView.js\",\n    _s = $RefreshSig$();\n\n/** @jsxImportSource @emotion/react */\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect, useState } from 'react';\nimport { getRecents } from '../store/actions/songAction';\nimport { useRouter } from 'next/router';\nimport PlaylistColumn from '../components/PlaylistColumn';\nimport PlaylistViewColumn from '../components/PlaylistViewColumn';\n\nfunction RecentlyPlayedSongsView() {\n  _s();\n\n  var dispatch = useDispatch();\n  var router = useRouter();\n\n  var _useSelector = useSelector(function (state) {\n    return state.auth;\n  }),\n      accessToken = _useSelector.accessToken;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.song;\n  }),\n      recentSongs = _useSelector2.recentSongs;\n\n  useEffect(function () {\n    dispatch(getRecents(accessToken));\n  }, []);\n\n  function setPlaylist(newPlaylist) {\n    recentSongs = (_readOnlyError(\"recentSongs\"), newPlaylist);\n  }\n\n  function onPlusButtonClick(track) {\n    router.push({\n      pathname: '/SpotifyTinderPage',\n      query: 'oneSongSeed=' + track.id\n    });\n  }\n\n  if (recentSongs) {\n    var obj = {\n      tracks: {\n        items: recentSongs.items.map(function (item) {\n          return item.track;\n        })\n      }\n    };\n    console.log(\"recent songs \", recentSongs.items.map(function (item) {\n      return item.track;\n    }));\n    console.log(\"obj\", obj);\n  }\n\n  return _jsxDEV(_Fragment, {\n    children: recentSongs && _jsxDEV(PlaylistViewColumn, {\n      playlist: recentSongs.items.map(function (item) {\n        return item.track;\n      }),\n      playlistTitle: \"Recently Played\",\n      hasPlusButton: true,\n      onPlusButtonClick: onPlusButtonClick,\n      setPlaylist: setPlaylist\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(RecentlyPlayedSongsView, \"Cxy2zOj+qUHhNDKy+bdJQpfaLpY=\", false, function () {\n  return [useDispatch, useRouter, useSelector, useSelector];\n});\n\n_c = RecentlyPlayedSongsView;\nexport default RecentlyPlayedSongsView;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecentlyPlayedSongsView\");","map":{"version":3,"sources":["C:/Users/zengg/Desktop/CS499/final-project-team-10-SpotifyEZ/components/RecentlyPlayedSongsView.js"],"names":["useDispatch","useSelector","useEffect","useState","getRecents","useRouter","PlaylistColumn","PlaylistViewColumn","RecentlyPlayedSongsView","dispatch","router","state","auth","accessToken","song","recentSongs","setPlaylist","newPlaylist","onPlusButtonClick","track","push","pathname","query","id","obj","tracks","items","map","item","console","log"],"mappings":";;;;;;;AAAA;AAEA,SAASA,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,UAAT,QAA2B,6BAA3B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,kBAAP,MAA+B,kCAA/B;;AAGA,SAASC,uBAAT,GAAmC;AAAA;;AAC/B,MAAMC,QAAQ,GAAGT,WAAW,EAA5B;AACA,MAAMU,MAAM,GAAGL,SAAS,EAAxB;;AAF+B,qBAGPJ,WAAW,CAAC,UAAAU,KAAK;AAAA,WAAIA,KAAK,CAACC,IAAV;AAAA,GAAN,CAHJ;AAAA,MAGvBC,WAHuB,gBAGvBA,WAHuB;;AAAA,sBAIPZ,WAAW,CAAC,UAAAU,KAAK;AAAA,WAAIA,KAAK,CAACG,IAAV;AAAA,GAAN,CAJJ;AAAA,MAIvBC,WAJuB,iBAIvBA,WAJuB;;AAM/Bb,EAAAA,SAAS,CAAC,YAAM;AACdO,IAAAA,QAAQ,CAACL,UAAU,CAACS,WAAD,CAAX,CAAR;AACD,GAFQ,EAEN,EAFM,CAAT;;AAIA,WAASG,WAAT,CAAqBC,WAArB,EAAkC;AAChCF,IAAAA,WAAW,mCAAGE,WAAH,CAAX;AACD;;AAED,WAASC,iBAAT,CAA2BC,KAA3B,EAAkC;AAChCT,IAAAA,MAAM,CAACU,IAAP,CAAY;AACVC,MAAAA,QAAQ,EAAE,oBADA;AAEVC,MAAAA,KAAK,EAAE,iBAAiBH,KAAK,CAACI;AAFpB,KAAZ;AAID;;AAGD,MAAIR,WAAJ,EAAgB;AACd,QAAIS,GAAG,GAAG;AACRC,MAAAA,MAAM,EAAE;AACJC,QAAAA,KAAK,EAAEX,WAAW,CAACW,KAAZ,CAAkBC,GAAlB,CAAsB,UAAAC,IAAI;AAAA,iBAAIA,IAAI,CAACT,KAAT;AAAA,SAA1B;AADH;AADA,KAAV;AAKAU,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6Bf,WAAW,CAACW,KAAZ,CAAkBC,GAAlB,CAAsB,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACT,KAAT;AAAA,KAA1B,CAA7B;AACAU,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBN,GAAnB;AACD;;AACD,SACE;AAAA,cACCT,WAAW,IACV,QAAC,kBAAD;AACE,MAAA,QAAQ,EAAEA,WAAW,CAACW,KAAZ,CAAkBC,GAAlB,CAAsB,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACT,KAAT;AAAA,OAA1B,CADZ;AAEE,MAAA,aAAa,EAAC,iBAFhB;AAGE,MAAA,aAAa,EAAE,IAHjB;AAIE,MAAA,iBAAiB,EAAED,iBAJrB;AAKE,MAAA,WAAW,EAAEF;AALf;AAAA;AAAA;AAAA;AAAA;AAFF,mBADF;AAaH;;GA5CQR,uB;UACYR,W,EACFK,S,EACSJ,W,EACAA,W;;;KAJnBO,uB;AA6CT,eAAeA,uBAAf","sourcesContent":["/** @jsxImportSource @emotion/react */\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useEffect, useState } from 'react';\r\nimport { getRecents } from '../store/actions/songAction';\r\nimport { useRouter } from 'next/router';\r\nimport PlaylistColumn from '../components/PlaylistColumn'\r\nimport PlaylistViewColumn from '../components/PlaylistViewColumn';\r\n\r\n\r\nfunction RecentlyPlayedSongsView() {\r\n    const dispatch = useDispatch()\r\n    const router = useRouter()\r\n    const { accessToken } = useSelector(state => state.auth)\r\n    const { recentSongs } = useSelector(state => state.song)\r\n\r\n    useEffect(() => {\r\n      dispatch(getRecents(accessToken))\r\n    }, [])\r\n\r\n    function setPlaylist(newPlaylist) {\r\n      recentSongs = newPlaylist\r\n    }\r\n\r\n    function onPlusButtonClick(track) {\r\n      router.push({\r\n        pathname: '/SpotifyTinderPage',\r\n        query: 'oneSongSeed=' + track.id\r\n      })\r\n    }\r\n\r\n\r\n    if (recentSongs){\r\n      var obj = {\r\n        tracks: {\r\n            items: recentSongs.items.map(item => item.track)\r\n        }\r\n      }\r\n      console.log(\"recent songs \", recentSongs.items.map(item => item.track));\r\n      console.log(\"obj\", obj);\r\n    }\r\n    return(\r\n      <>\r\n      {recentSongs &&\r\n        <PlaylistViewColumn\r\n          playlist={recentSongs.items.map(item => item.track)}\r\n          playlistTitle=\"Recently Played\"\r\n          hasPlusButton={true}\r\n          onPlusButtonClick={onPlusButtonClick}\r\n          setPlaylist={setPlaylist}\r\n        />\r\n      }\r\n    </>\r\n    );\r\n}\r\nexport default RecentlyPlayedSongsView;\r\n"]},"metadata":{},"sourceType":"module"}